<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Johsok's Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* === 科技山水配色 === */
            --bg-deep: #05080a;     /* 深墨色背景 */
            --text-main: #dcdfe3;   /* 銀灰字體 */
            --jade-glow: #64ffda;   /* 青玉光 (科技主色) */
            --cyber-blue: #00b4d8;  /* 輔助科技藍 */
            --neon-purple: #bd34fe; /* 霓虹紫 */
            --glass-bg: rgba(20, 25, 30, 0.6); /* 毛玻璃背景 */
            --glass-border: rgba(100, 255, 218, 0.2);
            --chess-red: #ff4d4d;   /* 帥方紅 */
            --chess-black: #00e676; /* 將方綠 (科技黑) */
        }

        body {
            font-family: 'Noto Serif TC', "PingFang TC", serif;
            background-color: var(--bg-deep);
            color: var(--text-main);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
            position: relative;
        }

        /* === 基礎動畫 === */
        @keyframes grid-drift {
            0% { background-position: 0 0; }
            100% { background-position: 0 50px; }
        }

        @keyframes scan-light {
            0% { background-position: -100% 0; }
            100% { background-position: 200% 0; }
        }

        @keyframes border-pulse {
            0%, 100% { border-color: rgba(100, 255, 218, 0.2); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
            50% { border-color: rgba(100, 255, 218, 0.5); box-shadow: 0 10px 30px rgba(100, 255, 218, 0.1); }
        }

        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes text-glitch {
            0%, 100% { opacity: 1; }
            93% { opacity: 0.6; }
            97% { opacity: 0.4; }
        }

        /* === 1. 象棋動畫：互繞公轉 + 自轉抵消 === */
        @keyframes orbit-rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes counter-rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(-360deg); }
        }
        @keyframes piece-pulse {
            0%, 100% { box-shadow: 0 0 10px rgba(0,0,0,0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); }
        }

        /* === 2. 五子棋動畫：旋轉 === */
        @keyframes gomoku-spin-slow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* 五子棋展開動畫 (Entry) */
        @keyframes stones-expand {
            0% { transform: translate(-50%, -50%); opacity: 0; }
            100% { opacity: 1; } /* 結束位置由各個 class 的 transform 決定 */
        }

        /* === 3. 跳棋動畫：左右跳動 + 縮放 === */
        @keyframes checkers-jump-move {
            0% { transform: translateX(0) scale(1); box-shadow: 0 0 15px var(--cyber-blue); }
            25% { transform: translateX(-15px) scale(1.15); box-shadow: 0 0 30px var(--cyber-blue); } /* 左跳 */
            50% { transform: translateX(0) scale(1); box-shadow: 0 0 15px var(--cyber-blue); } /* 回中 */
            75% { transform: translateX(15px) scale(1.15); box-shadow: 0 0 30px var(--cyber-blue); } /* 右跳 */
            100% { transform: translateX(0) scale(1); box-shadow: 0 0 15px var(--cyber-blue); }
        }

        /* 其他通用動畫 */
        @keyframes slow-rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* === 背景視覺 === */
        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 120%, #1a2530 0%, var(--bg-deep) 70%),
                        linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.8) 100%);
            z-index: -2; animation: text-glitch 10s infinite alternate;
        }

        body::after {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: linear-gradient(rgba(100, 255, 218, 0.03) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(100, 255, 218, 0.03) 1px, transparent 1px);
            background-size: 50px 50px; pointer-events: none; z-index: -1;
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
            animation: grid-drift 20s linear infinite;
        }

        /* === Iframe 容器 === */
        #game-frame-container {
            display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: #000; z-index: 9999;
        }
        iframe { width: 100%; height: 100%; border: none; display: block; }

        /* === Header === */
        header {
            padding: 70px 20px 40px; text-align: center; width: 100%;
            position: relative; animation: fade-in-up 1s ease-out;
        }

        h1 {
            margin: 0; font-size: 3rem; font-weight: 700; letter-spacing: 10px;
            color: var(--text-main); text-shadow: 0 0 20px rgba(100, 255, 218, 0.3);
            position: relative; display: inline-block;
        }

        h1::after {
            content: ""; display: block; width: 70%; height: 3px;
            background: linear-gradient(90deg, transparent 0%, var(--jade-glow) 20%, var(--neon-purple) 50%, var(--jade-glow) 80%, transparent 100%);
            background-size: 200% 100%; margin: 18px auto 0;
            box-shadow: 0 0 15px var(--jade-glow), 0 0 8px var(--neon-purple);
            animation: scan-light 3s ease-in-out infinite;
        }

        .subtitle {
            margin-top: 15px; font-family: 'Orbitron', monospace; color: var(--jade-glow);
            font-size: 0.8rem; letter-spacing: 3px; opacity: 0.8; text-transform: uppercase;
            animation: text-glitch 5s infinite;
        }

        /* === Container === */
        .container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 35px; width: 90%; max-width: 1100px; padding: 20px; padding-bottom: 80px;
        }

        /* === Game Card === */
        .game-card {
            background: var(--glass-bg); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border); border-radius: 6px; padding: 40px 20px;
            text-align: center; text-decoration: none; color: var(--text-main);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            cursor: pointer; opacity: 0;
            animation: fade-in-up 0.8s ease-out forwards, border-pulse 4s ease-in-out infinite;
        }

        .game-card:nth-child(1) { animation-delay: 0.1s, 0s; }
        .game-card:nth-child(2) { animation-delay: 0.2s, 1s; }
        .game-card:nth-child(3) { animation-delay: 0.3s, 2s; }
        .game-card:nth-child(4) { animation-delay: 0.4s, 3s; }
        .game-card:nth-child(5) { animation-delay: 0.5s, 4s; }

        .game-card::before, .game-card::after {
            content: ""; position: absolute; width: 20px; height: 20px;
            border: 2px solid var(--jade-glow); transition: all 0.4s ease; opacity: 0.5;
        }
        .game-card::before { top: 0; left: 0; border-right: none; border-bottom: none; }
        .game-card::after { bottom: 0; right: 0; border-left: none; border-top: none; }

        .game-card:hover {
            opacity: 1; transform: translateY(-8px) scale(1.02);
            background: rgba(30, 40, 50, 0.8); border-color: var(--jade-glow);
            box-shadow: 0 0 35px rgba(100, 255, 218, 0.4); animation: none;
        }
        .game-card:hover::before, .game-card:hover::after {
            width: 100%; height: 100%; opacity: 1; border-color: rgba(100, 255, 218, 0.15);
        }

        /* === Icon Box & 通用 Hover 發光特效 === */
        .icon-box {
            height: 110px; display: flex; align-items: center; justify-content: center;
            margin-bottom: 25px; position: relative;
        }

        /* 1. 象棋 (常駐公轉 + 懸停發光) */
        .chess-orbit-container {
            width: 90px; height: 90px;
            position: relative; 
            /* 常駐動畫 */
            animation: orbit-rotate 5s linear infinite; 
        }
        .chess-piece {
            width: 45px; height: 45px; border-radius: 50%;
            border: 2px solid var(--text-main); position: absolute;
            display: flex; align-items: center; justify-content: center;
            font-size: 22px; font-weight: bold; font-family: 'Noto Serif TC', serif;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            background: radial-gradient(circle, #222 0%, #000 100%);
            /* 常駐反向自轉 */
            animation: counter-rotate 5s linear infinite, piece-pulse 3s infinite;
            transition: box-shadow 0.3s, border-color 0.3s;
        }
        .c-shuai { color: var(--chess-red); border-color: #552222; top: 0; left: 0; z-index: 2; }
        .c-jiang { color: var(--chess-black); border-color: #113322; bottom: 0; right: 0; z-index: 1; }
        
        /* HOVER GLOW */
        .game-card:hover .chess-piece {
            box-shadow: 0 0 25px var(--text-main);
            border-color: #fff;
        }

        /* 2. 暗棋 (JS控制翻牌 + 懸停發光) */
        .icon-dark-box {
            width: 80px; height: 80px; position: relative;
        }
        .dc-card {
            width: 28px; height: 28px; position: absolute;
            background: #111;
            border: 1px solid var(--jade-glow);
            display: flex; align-items: center; justify-content: center;
            font-size: 16px; font-weight: bold; font-family: 'Noto Serif TC', serif;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s, border-color 0.3s;
            transform: scaleX(1); 
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        
        .dc-card.is-back {
            background: repeating-linear-gradient(45deg, #0a0a0a, #0a0a0a 2px, #1a1a1a 2px, #1a1a1a 4px);
            color: transparent; border-color: #333;
        }
        .dc-card.is-front {
            border-color: var(--jade-glow);
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.3);
        }

        /* 佈局 */
        .dc-c1 { top: 0; left: 0; }
        .dc-c2 { top: 0; right: 0; }
        .dc-c3 { top: 50%; left: 50%; transform: translate(-50%, -50%) scaleX(1); }
        .dc-c4 { bottom: 0; left: 0; }
        .dc-c5 { bottom: 0; right: 0; }

        .dc-c3.is-flipping { transform: translate(-50%, -50%) scaleX(0); }
        .dc-card:not(.dc-c3).is-flipping { transform: scaleX(0); }

        /* HOVER GLOW */
        .game-card:hover .dc-card {
            box-shadow: 0 0 15px var(--jade-glow);
            border-color: #fff;
        }

        /* 3. 五子棋 (常駐米字 + 旋轉 + 懸停發光) */
        .icon-gomoku-container {
            width: 100px; height: 100px; position: relative;
            display: flex; align-items: center; justify-content: center;
            /* 常駐旋轉 */
            animation: gomoku-spin-slow 8s linear infinite;
        }
        .g-stone {
            width: 14px; height: 14px; border-radius: 50%; position: absolute;
            transition: box-shadow 0.3s, border-color 0.3s;
            top: 50%; left: 50%; 
            box-shadow: 0 0 5px rgba(0,0,0,0.8);
        }
        .gs-black { background: #111; border: 1px solid #444; }
        .gs-white { background: #eee; border: 1px solid #ccc; }

        /* 直接定義擴散後的位置 (不再依賴 hover) */
        .stone-c { transform: translate(-50%, -50%); } 
        .stone-l { transform: translate(-250%, -50%); }
        .stone-r { transform: translate(150%, -50%); }
        .stone-t { transform: translate(-50%, -250%); }
        .stone-b { transform: translate(-50%, 150%); }
        .stone-tl { transform: translate(-200%, -200%); }
        .stone-tr { transform: translate(100%, -200%); }
        .stone-bl { transform: translate(-200%, 100%); }
        .stone-br { transform: translate(100%, 100%); }

        /* HOVER GLOW */
        .game-card:hover .g-stone {
            box-shadow: 0 0 12px #fff;
            border-color: #fff;
        }

        /* 4. 黑白棋 (常駐旋轉 + 懸停發光) */
        .icon-othello {
            width: 70px; height: 70px; border-radius: 50%;
            background: linear-gradient(135deg, var(--text-main) 50%, #000 50%);
            border: 2px solid #666; box-shadow: 0 0 20px rgba(255,255,255,0.15);
            /* 常駐旋轉 */
            animation: slow-rotate 10s linear infinite;
            transition: box-shadow 0.3s;
        }
        /* HOVER GLOW */
        .game-card:hover .icon-othello {
            box-shadow: 0 0 30px rgba(255,255,255,0.8);
            border-color: #fff;
        }

        /* 5. 跳棋 (常駐跳動 + 懸停發光) */
        .icon-checkers {
            width: 65px; height: 65px; border: 3px solid var(--cyber-blue);
            border-radius: 50%; position: relative;
            display: flex; align-items: center; justify-content: center;
            /* 常駐跳動 */
            animation: checkers-jump-move 2s infinite ease-in-out;
            transition: box-shadow 0.3s, border-color 0.3s;
        }
        .icon-checkers::after {
            content: ""; width: 30px; height: 30px; background: var(--cyber-blue);
            border-radius: 50%; box-shadow: 0 0 15px var(--cyber-blue);
            transition: background 0.3s, box-shadow 0.3s;
        }
        .icon-checkers::before {
            content: ""; position: absolute; width: 100%; height: 100%;
            border-radius: 50%; border: 1px solid var(--cyber-blue); opacity: 0.5;
        }
        
        /* HOVER GLOW */
        .game-card:hover .icon-checkers { 
            box-shadow: 0 0 30px var(--cyber-blue);
            border-color: #fff;
        }
        .game-card:hover .icon-checkers::after {
            background: #fff;
            box-shadow: 0 0 40px var(--cyber-blue);
        }

        /* 文字樣式 */
        .game-title {
            font-size: 1.4rem; font-weight: 700; letter-spacing: 5px;
            display: block; margin-top: 10px;
        }
        .game-en-title {
            font-family: 'Orbitron', monospace; font-size: 0.8rem;
            color: var(--jade-glow); opacity: 0.6; letter-spacing: 2px;
            margin-top: 8px; display: block; transition: opacity 0.3s;
        }
        .game-card:hover .game-en-title { opacity: 1; text-shadow: 0 0 8px var(--jade-glow); }

        /* === Footer === */
        .footer {
            margin-top: auto; padding: 30px; font-size: 0.75rem;
            font-family: 'Orbitron', monospace; color: #666; text-align: center;
            border-top: 1px solid rgba(255,255,255,0.05); width: 100%;
            background: linear-gradient(to top, #000, transparent);
        }

        /* === 手機適配 === */
        @media (max-width: 480px) {
            h1 { font-size: 2.2rem; }
            h1::after { width: 80%; }
            .container { grid-template-columns: 1fr; width: 85%; gap: 25px; }
            .icon-box { height: 90px; }
            
            /* 圖示微調 */
            .chess-orbit-container { width: 80px; height: 80px; }
            .chess-piece { width: 38px; height: 38px; font-size: 18px; }
            
            .icon-dark-box { width: 70px; height: 70px; }
            .dc-card { width: 24px; height: 24px; font-size: 14px; }
            
            .icon-othello { width: 60px; height: 60px; }
            .icon-checkers { width: 55px; height: 55px; }
            .icon-checkers::after { width: 24px; height: 24px; }
            .icon-gomoku-container { width: 80px; height: 80px; }
            .g-stone { width: 12px; height: 12px; }
            
            .game-card { padding: 30px 15px; }
        }
    </style>
</head>
<body>

<div id="lobby">
    <header>
        <h1>傑斯克的遊戲世界</h1>
        <div class="subtitle">JOHSOK'S GAMES 2026</div>
    </header>

    <div class="container">
        <a href="javascript:void(0)" class="game-card" onclick="openGame('https://johsok.github.io/Games/Chinese_Chess.html')">
            <div class="icon-box">
                <div class="chess-orbit-container">
                    <div class="chess-piece c-shuai">帥</div>
                    <div class="chess-piece c-jiang">將</div>
                </div>
            </div>
            <span class="game-title">象棋</span>
            <span class="game-en-title">CHINESE CHESS</span>
        </a>

        <a href="javascript:void(0)" class="game-card" onclick="openGame('https://johsok.github.io/Games/chinese_chess_dark.html')">
            <div class="icon-box">
                <div class="icon-dark-box" id="dark-chess-container">
                    <div class="dc-card dc-c1 is-back"></div>
                    <div class="dc-card dc-c2 is-back"></div>
                    <div class="dc-card dc-c3 is-back"></div>
                    <div class="dc-card dc-c4 is-back"></div>
                    <div class="dc-card dc-c5 is-back"></div>
                </div>
            </div>
            <span class="game-title">暗棋</span>
            <span class="game-en-title">DARK CHESS</span>
        </a>

        <a href="javascript:void(0)" class="game-card" onclick="openGame('https://johsok.github.io/Games/Gomoku.html')">
            <div class="icon-box">
                <div class="icon-gomoku-container">
                    <div class="g-stone gs-black stone-c"></div>
                    <div class="g-stone gs-white stone-t"></div>
                    <div class="g-stone gs-white stone-b"></div>
                    <div class="g-stone gs-white stone-l"></div>
                    <div class="g-stone gs-white stone-r"></div>
                    <div class="g-stone gs-black stone-tl"></div>
                    <div class="g-stone gs-black stone-tr"></div>
                    <div class="g-stone gs-black stone-bl"></div>
                    <div class="g-stone gs-black stone-br"></div>
                </div>
            </div>
            <span class="game-title">五子棋</span>
            <span class="game-en-title">GOMOKU</span>
        </a>

        <a href="javascript:void(0)" class="game-card" onclick="openGame('https://johsok.github.io/Games/Othello.html')">
            <div class="icon-box">
                <div class="icon-othello"></div>
            </div>
            <span class="game-title">黑白棋</span>
            <span class="game-en-title">OTHELLO</span>
        </a>

        <a href="javascript:void(0)" class="game-card" onclick="openGame('https://johsok.github.io/Games/Chinese_Checkers.html')">
            <div class="icon-box">
                <div class="icon-checkers"></div>
            </div>
            <span class="game-title">跳棋</span>
            <span class="game-en-title">CHECKERS</span>
        </a>
    </div>

    <div class="footer">
        © 2026 Johsok's Games. All rights reserved.
    </div>
</div>

<div id="game-frame-container">
    <iframe id="game-iframe" src=""></iframe>
</div>

<script>
    function openGame(url) {
        const lobby = document.getElementById('lobby');
        const container = document.getElementById('game-frame-container');
        const iframe = document.getElementById('game-iframe');
        iframe.src = url;
        lobby.style.display = 'none';
        container.style.display = 'block';
    }

    function closeGame() {
        const lobby = document.getElementById('lobby');
        const container = document.getElementById('game-frame-container');
        const iframe = document.getElementById('game-iframe');
        iframe.src = "";
        container.style.display = 'none';
        lobby.style.display = 'flex';
        lobby.style.flexDirection = 'column';
    }

    // === 暗棋動畫邏輯 ===
    (function startDarkChessAnimation() {
        const cards = document.querySelectorAll('.dc-card');
        const pieces = [
            { t: '帥', c: 'red' }, { t: '將', c: 'black' },
            { t: '仕', c: 'red' }, { t: '士', c: 'black' },
            { t: '相', c: 'red' }, { t: '象', c: 'black' },
            { t: '俥', c: 'red' }, { t: '車', c: 'black' },
            { t: '傌', c: 'red' }, { t: '馬', c: 'black' },
            { t: '炮', c: 'red' }, { t: '包', c: 'black' },
            { t: '兵', c: 'red' }, { t: '卒', c: 'black' }
        ];

        function flipSequence() {
            cards.forEach(card => card.classList.add('is-flipping'));

            setTimeout(() => {
                cards.forEach(card => {
                    card.classList.remove('is-front');
                    card.classList.add('is-back');
                    card.innerText = '';
                    card.style.color = 'transparent';
                });

                const shuffled = [...pieces].sort(() => 0.5 - Math.random());
                const selected = shuffled.slice(0, 5);

                cards.forEach((card, index) => {
                    card.dataset.char = selected[index].t;
                    card.dataset.color = selected[index].c;
                });

                setTimeout(() => {
                    cards.forEach((card, index) => {
                        card.classList.remove('is-back');
                        card.classList.add('is-front');
                        card.innerText = card.dataset.char;
                        card.style.color = (card.dataset.color === 'red') ? '#ff4d4d' : '#00e676';
                        card.classList.remove('is-flipping');
                    });
                }, 100);

            }, 300);

            setTimeout(() => {
                 cards.forEach(card => card.classList.add('is-flipping'));
                 setTimeout(() => {
                    cards.forEach(card => {
                        card.classList.remove('is-front');
                        card.classList.add('is-back');
                        card.innerText = '';
                        card.style.color = 'transparent';
                        card.classList.remove('is-flipping');
                    });
                 }, 300);
            }, 2500); 
        }
        setInterval(flipSequence, 3500);
        flipSequence();
    })();

    // 安全防護
    document.addEventListener('contextmenu', event => event.preventDefault());
    document.onkeydown = function(e) {
        if (e.keyCode == 123) return false;
        if (e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) return false;
        if (e.ctrlKey && (e.keyCode == 'U'.charCodeAt(0) || e.keyCode == 'S'.charCodeAt(0))) return false;
    };
    console.log("%c系統安全監控中", "color: #64ffda; font-size: 30px; font-weight: bold; background: #000; padding: 10px;");
</script>

</body>
</html>